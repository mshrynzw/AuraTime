# API仕様：給与

## 1. 給与期間管理

### POST `/api/v1/payroll-periods/{id}/close`
勤怠を締め切る。

- **権限**: Admin
- **処理**: 期間内の勤怠修正をロック。

## 2. 給与計算

### POST `/api/v1/payroll-periods/{id}/calculate`
給与計算ジョブを起動。

- **給与期間のステータス遷移**: `open` → `closed` → `calculated` → `finalized`
- **権限**: Admin
- **レスポンス**:
    ```json
    {
      "success": true,
      "job_run_id": "uuid-of-job"
    }
    ```
- **処理**: 非同期バッチを起動。完了ステータスは `/api/v1/job-runs/{id}` で確認。

## 3. 給与明細

### GET `/api/v1/payslips/my-latest`
自身の最新の確定済み明細を取得。

### GET `/api/v1/payslips/{id}`
明細詳細（`payslip_lines` 含む）を取得。

## 4. 支払管理

### POST `/api/v1/payments`
支払バッチ（FBデータ作成等）の作成。

- **権限**: Admin

