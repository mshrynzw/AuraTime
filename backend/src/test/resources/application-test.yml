# ============================================================================
# テスト環境設定ファイル
# ============================================================================
# このファイルは、テスト実行時に使用される設定です。
# @ActiveProfiles("test")アノテーションが付与されたテストクラスで使用されます。
#
# 主な設定内容:
# - データベース: H2（インメモリ）を使用
# - JWT: テスト用のシークレットキーと有効期限を設定
# - ログレベル: デバッグ用に詳細なログを出力
# ============================================================================

spring:
  # ============================================================================
  # データソース設定（H2インメモリデータベース）
  # ============================================================================
  datasource:
    # H2インメモリデータベースを使用
    # テスト実行ごとに新しいデータベースが作成され、終了時に破棄されます
    url: jdbc:h2:mem:testdb
    driver-class-name: org.h2.Driver
    username: sa
    password:

  # ============================================================================
  # JPA設定
  # ============================================================================
  jpa:
    hibernate:
      # create-drop: テスト開始時にスキーマを作成し、終了時に破棄
      ddl-auto: create-drop
    # SQLクエリをログに出力（デバッグ用）
    show-sql: true
    properties:
      hibernate:
        # H2データベース用のダイアレクトを指定
        dialect: org.hibernate.dialect.H2Dialect

  # ============================================================================
  # Redis設定（テスト環境では使用しない場合でも設定が必要）
  # ============================================================================
  data:
    redis:
      host: localhost
      port: 6379

# ============================================================================
# JWT設定（テスト用）
# ============================================================================
jwt:
  # テスト用のシークレットキー
  # 本番環境では、環境変数から読み込むことを推奨
  secret: test-secret-key-for-jwt-token-validation-testing-purposes-only-must-be-at-least-256-bits
  # トークンの有効期限（ミリ秒）
  # 86400000 = 24時間
  expiration: 86400000

# ============================================================================
# サーバー設定（テスト環境ではcontext-pathを空にする）
# ============================================================================
server:
  servlet:
    context-path: ""

# ============================================================================
# ログ設定
# ============================================================================
logging:
  level:
    # ルートログレベル: INFO
    root: INFO
    # AuraTimeパッケージのログレベル: DEBUG（詳細なログを出力）
    "[com.auratime]": DEBUG


